{"ast":null,"code":"var nodes = require('../nodes');\n/**\n * Returns the @media string for the current block\n *\n * @return {String}\n * @api public\n */\n\n\nmodule.exports = function currentMedia() {\n  var self = this;\n  return new nodes.String(lookForMedia(this.closestBlock.node) || '');\n\n  function lookForMedia(node) {\n    if ('media' == node.nodeName) {\n      node.val = self.visit(node.val);\n      return node.toString();\n    } else if (node.block.parent.node) {\n      return lookForMedia(node.block.parent.node);\n    }\n  }\n};","map":{"version":3,"sources":["/Users/timurmishiev/burger-hub-frontend/node_modules/stylus/lib/functions/current-media.js"],"names":["nodes","require","module","exports","currentMedia","self","String","lookForMedia","closestBlock","node","nodeName","val","visit","toString","block","parent"],"mappings":"AAAA,IAAIA,KAAK,GAAGC,OAAO,CAAC,UAAD,CAAnB;AAEA;AACA;AACA;AACA;AACA;AACA;;;AAEAC,MAAM,CAACC,OAAP,GAAiB,SAASC,YAAT,GAAuB;AACtC,MAAIC,IAAI,GAAG,IAAX;AACA,SAAO,IAAIL,KAAK,CAACM,MAAV,CAAiBC,YAAY,CAAC,KAAKC,YAAL,CAAkBC,IAAnB,CAAZ,IAAwC,EAAzD,CAAP;;AAEA,WAASF,YAAT,CAAsBE,IAAtB,EAA2B;AACzB,QAAI,WAAWA,IAAI,CAACC,QAApB,EAA8B;AAC5BD,MAAAA,IAAI,CAACE,GAAL,GAAWN,IAAI,CAACO,KAAL,CAAWH,IAAI,CAACE,GAAhB,CAAX;AACA,aAAOF,IAAI,CAACI,QAAL,EAAP;AACD,KAHD,MAGO,IAAIJ,IAAI,CAACK,KAAL,CAAWC,MAAX,CAAkBN,IAAtB,EAA4B;AACjC,aAAOF,YAAY,CAACE,IAAI,CAACK,KAAL,CAAWC,MAAX,CAAkBN,IAAnB,CAAnB;AACD;AACF;AACF,CAZD","sourcesContent":["var nodes = require('../nodes');\n\n/**\n * Returns the @media string for the current block\n *\n * @return {String}\n * @api public\n */\n\nmodule.exports = function currentMedia(){\n  var self = this;\n  return new nodes.String(lookForMedia(this.closestBlock.node) || '');\n\n  function lookForMedia(node){\n    if ('media' == node.nodeName) {\n      node.val = self.visit(node.val);\n      return node.toString();\n    } else if (node.block.parent.node) {\n      return lookForMedia(node.block.parent.node);\n    }\n  }\n};\n"]},"metadata":{},"sourceType":"script"}